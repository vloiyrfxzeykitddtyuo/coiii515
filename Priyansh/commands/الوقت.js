module.exports.config = {
    name: "Ø§Ù„ÙˆÙ‚Øª",
    version: "1.0.0",
    hasPermssion: 0,
    credits: "Ø§Ø­Ù…Ø¯ Ø¹Ø¬ÙŠÙ†Ø©",
    description: "Ø¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª",
    commandCategory: "Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
    usages: "ØªØ§Ø±ÙŠØ®_Ø§Ù„Ø¨ÙˆØª",
    cooldowns: 5
};

module.exports.run = async ({ api, event }) => {
    // Ø¯Ø§Ù„Ø© Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ Ø¥Ù„Ù‰ Ù‡Ø¬Ø±ÙŠ
    function gregorianToHijri(date) {
        const year = date.getFullYear();
        const month = date.getMonth() + 1;
        const day = date.getDate();

        // Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ
        const hijriYear = Math.floor((year - 622) * (33/32));
        const hijriMonth = month;
        const hijriDay = day;

        return `${hijriDay}/${hijriMonth}/${hijriYear}`;
    }

    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚
    const iraqTimeZone = 'Asia/Baghdad';
    const now = new Date().toLocaleString('ar-IQ', { timeZone: iraqTimeZone });
    
    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙŠÙˆÙ…
    const daysInArabic = ['Ø§Ù„Ø£Ø­Ø¯', 'Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†', 'Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡', 'Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡', 'Ø§Ù„Ø®Ù…ÙŠØ³', 'Ø§Ù„Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ø³Ø¨Øª'];
    const dayOfWeek = daysInArabic[new Date().getDay()];
    
    // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
    const hijriDate = gregorianToHijri(new Date());
    
    // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    const message = `ðŸ•’ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø¨ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø±Ø§Ù‚): ${now}\n` +
                   `ðŸ“… Ø§Ù„ÙŠÙˆÙ…: ${dayOfWeek}\n` +
                   `ðŸŒ™ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ${hijriDate}\n` +
                   `ðŸ“† Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠØ©: ${new Date().getFullYear()}`;

    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©
    return api.sendMessage(message, event.threadID, event.messageID);
};
